<% provide(:title, 'Create New User') %>
<div class="container">
  <h1 class="display-1" style="padding-top:1em">Create New User</h1>
  <br>
  <br>
  <div class="row">
    <div class="col-md-6 col-md-offset-3">
      <%= form_for(@user, url: signup_path, html: {class: "needs-validation", novalidate: true}) do |f| %>
        <%= render 'shared/error_messages', obj: @user %>
        <div class="form-group">
          <%= f.label :username, for: "validation_un" %>
          <%= f.text_field :username, class: "form-control", id: "validation_un", placeholder: "enter username", required: true, pattern: "^.{2,25}$" %>
          <div class="invalid-feedback">Please enter a valid username. (2-25 characters)</div>
        </div>
        <div class="form-group">
          <%= f.label :email, for: "validation_em" %>
          <%= f.email_field :email, class: "form-control", id: "validation_em", placeholder: "enter email for account recovery", required: true %>
          <div class="invalid-feedback">Please enter a valid email.</div>
        </div>
        <div class="form-group">
          <%= f.label :department, for: "validation_dp" %>
          <%= f.select :department_id, @departments_list, {prompt: "Select Department:"}, {id: "validation_dp", class: "custom-select", required: true} %>
          <div class="invalid-feedback">Please select your department.</div>
        </div>
        <div class="form-group">
          <%= f.label :password, for: "validation_pw" %>
          <%= f.password_field :password, class: "form-control", id: "validation_pw", placeholder: "enter password", required: true, pattern: "^.{8,}$" %>
          <div class="invalid-feedback">Please enter your password. (minimum: 8 characters)</div>
          <%= f.label :password, "We recommend using a passphrase <a target='_blank' rel='noopener noreferrer' href='https://randompassphrasegenerator.com/'>from here</a>.".html_safe %>
        </div>
        <div class="form-group">
          <%= f.label :password_confirmation, "Confirm Password", for: "validation_pwc" %>
          <%= f.password_field :password_confirmation, class: "form-control", id: "validation_pwc", placeholder: "enter password again", required: true %>
          <div class="invalid-feedback">Please confirm your password.</div>
        </div>
        <br>
        <%= f.submit "Create account", class: "btn btn-lg btn-primary" %>
      <% end %>
    </div>
  </div>
</div>
