<% provide(:title, 'Assign Students') %>
<% content_for :page_packs do %>
  <%= javascript_pack_tag 'vue_assign', 'data-turbolinks-track': 'reload', defer: true %>
  <%= stylesheet_pack_tag 'vue_assign', 'data-turbolinks-track': 'reload' %>
<% end %>

<div class="container">
  <h4 class="display-4 aheading animated fadeInDown faster">Assign Students</h4>
  <% if is_admin? %>
    <h5 class="display-5">You are viewing students and supervisors from all departments.</h5>
  <% else %>
    <h5 class="display-5">You are viewing students and supervisors from <%= current_user.department.name %>.</h5>
  <% end %>
  <br>
  <div class="row" style="margin-top:1em;">
    <div class="col-lg-3"></div>
    <div class="col-lg-6">
      <%= link_to "Batch Assign&nbsp; <i class='fas fa-arrow-right' style='font-size:80%'></i>".html_safe, {action: "batch_assign"}, {class: "btn btn-secondary"} %>
    </div>
    <div class="col-lg-3"></div>
  </div>
  <br>
  <%= content_tag :div,
  id: 'assign-form-vue',
  data: {
    students: @students,
    supervisors: @supervisors,
  }.to_json() do %>
  <div class="d-flex justify-content-center">
    <h4 style="margin-top:2em;color:lightgrey"><i class="fas fa-sync-alt fa-spin" style="font-size:80%;"></i>&nbsp;&nbsp;Loading assign form...</h4>
  </div>
  <% end %>
</div>
