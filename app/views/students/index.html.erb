<% provide(:title, 'Manage Students - PolyU FYP Management') %>
<div class="container">
    <h2 class="display-2" style="margin:1em 0 0.5em 0">Manage Students</h2>
    <%= form_for(@student, url: students_path) do |f| %>
        <%= render 'shared/error_messages', obj: @student %>
        <p>Add new Student:</p>
        <div class="row">
            <div class="form-group col-md-4">
            <%= f.text_field :name, class: "form-control", placeholder: "enter student name" %>
            </div>
            <div class="form-group col-md-4">
            <%= f.text_field :netID, class: "form-control", placeholder: "enter student netID" %>
            </div>
            <div class="form-group col-md-4">
            <%= f.text_field :department, class: "form-control", placeholder: "enter student department" %>
            </div>
        </div>
        <%= f.submit "Create student", class: "btn btn-primary" %>
        <% end %>
    <br>
    <br>
    <table class="table manage-table">
        <thead>
            <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">NetID</th>
            <th scope="col">Supervisors</th>
            </tr>
        </thead>
        <tbody>
            <% @students.each do |student| %>
                <tr>
                    <th scope="row"><%= student.id %></th>
                    <td><%= student.name %></td>
                    <td><%= student.netID %></td>
                    <td>
                    <% student.supervisors.each do |supervisor| %>
                        <%= supervisor.name %>
                    <% end %>
                    </td>
                </tr>
            <% end %>
        </tbody>
    </table>
</div>